<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tuner and Optimizer using mlrMBO — OptimizerInterMBO • mlrintermbo</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Tuner and Optimizer using mlrMBO — OptimizerInterMBO" />
<meta property="og:description" content="mlrMBO tuning object.
mlrMBO must not be loaded directly into R when using mlr3, for various reasons.
TunerInterMBO and OptimizerInterMBO take care that this does not happen." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mlrintermbo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mb706/mlrintermbo/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tuner and Optimizer using mlrMBO</h1>
    <small class="dont-index">Source: <a href='https://github.com/mb706/mlrintermbo/blob/master/R/TunerInterMBO.R'><code>R/TunerInterMBO.R</code></a></small>
    <div class="hidden name"><code>OptimizerInterMBO.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>mlrMBO tuning object.</p>
<p>mlrMBO must not be loaded directly into R when using mlr3, for various reasons.
TunerInterMBO and OptimizerInterMBO take care that this does not happen.</p>
    </div>



    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p><a href='https://r6.r-lib.org/reference/R6Class.html'>R6::R6Class</a> object inheriting from <a href='https://mlr3tuning.mlr-org.com/reference/Tuner.html'>mlr3tuning::Tuner</a> or <a href='https://bbotk.mlr-org.com/reference/Optimizer.html'>bbotk::Optimizer</a>.</p>
    <h2 class="hasAnchor" id="construction"><a class="anchor" href="#construction"></a>Construction</h2>

    


<p>To optimize an objective (using the <code>bbotk</code> package), use the <code>OptimizerInterMBO</code> object,
ideally obtained through the <code><a href='https://bbotk.mlr-org.com/reference/opt.html'>bbotk::opt()</a></code> function: <code>opt("intermbo")</code>.</p>
<p>To tune a machine learning method represented by a <a href='https://mlr3.mlr-org.com/reference/Learner.html'>mlr3::Learner</a> object,
use the <code>TunerInterMBO</code> obtained ideally through <code><a href='https://mlr3tuning.mlr-org.com/reference/tnr.html'>mlr3tuning::tnr()</a></code>: <code>tnr("intermbo")</code>.</p>
<p>Both have following optional arguments:</p><ul>
<li><p><code>n.objectives</code> :: <code>integer(1)</code><br />
Number of objectives to optimize. Default is 1 for ordinary ("single objective") optimization,
but can be breater than 1 for multi-objective optimization. See <code><a href='https://rdrr.io/pkg/mlrMBO/man/setMBOControlMultiObj.html'>mlrMBO::setMBOControlMultiObj()</a></code>
for details on multi-objective optimization in <code>mlrMBO</code>.</p></li>
<li><p><code>on.surrogate.error</code> :: <code>character(1)</code><br />
What to do when fitting or predicting the surrogate model fails. One of <code>"stop"</code> (throw error),
<code>"warn"</code>, and <code>"quiet"</code>(ignore and propose a random point).<br />
The surrogate model may fail sometimes, for example when the size
of the initial design is too small or when the objective function returns constant values. In practice
this is usually safe to ignore for single iterations (i.e. <code>"warn"</code> or <code>"quiet"</code>), but be aware
that MBO effectively degrades to random search when the surrogate model fails for all iterations.</p></li>
</ul>

    <h2 class="hasAnchor" id="configuration-parameters"><a class="anchor" href="#configuration-parameters"></a>Configuration Parameters</h2>

    


<p>The <code><a href='https://paradox.mlr-org.com/reference/ParamSet.html'>ParamSet</a></code> of the optimizer / tuner reflects the possible configuration
options of mlrMBO. The control parameters map directly to the arguments of
<code><a href='https://rdrr.io/pkg/mlrMBO/man/makeMBOControl.html'>mlrMBO::makeMBOControl()</a></code>, <code><a href='https://rdrr.io/pkg/mlrMBO/man/setMBOControlInfill.html'>mlrMBO::setMBOControlInfill()</a></code>, <code><a href='https://rdrr.io/pkg/mlrMBO/man/setMBOControlMultiObj.html'>mlrMBO::setMBOControlMultiObj()</a></code>,
<code><a href='https://rdrr.io/pkg/mlrMBO/man/setMBOControlMultiPoint.html'>mlrMBO::setMBOControlMultiPoint()</a></code>, and <code><a href='https://rdrr.io/pkg/mlrMBO/man/setMBOControlTermination.html'>mlrMBO::setMBOControlTermination()</a></code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://paradox.mlr-org.com'>"paradox"</a></span><span class='op'>)</span></span>
<span class='r-in'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://bbotk.mlr-org.com'>"bbotk"</a></span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># silly example function: minimize x^2 for -1 &lt; x &lt; 1</span></span>
<span class='r-in'><span class='va'>domain</span> <span class='op'>&lt;-</span> <span class='va'><a href='https://paradox.mlr-org.com/reference/ParamSet.html'>ParamSet</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'><a href='https://paradox.mlr-org.com/reference/ParamDbl.html'>ParamDbl</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='st'>"x"</span>, lower <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, upper <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>codomain</span> <span class='op'>&lt;-</span> <span class='va'><a href='https://paradox.mlr-org.com/reference/ParamSet.html'>ParamSet</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'><a href='https://paradox.mlr-org.com/reference/ParamDbl.html'>ParamDbl</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='st'>"y"</span>, tags <span class='op'>=</span> <span class='st'>"minimize"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>objective</span> <span class='op'>&lt;-</span> <span class='va'><a href='https://bbotk.mlr-org.com/reference/ObjectiveRFun.html'>ObjectiveRFun</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='kw'>function</span><span class='op'>(</span><span class='va'>xs</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>xs</span><span class='op'>$</span><span class='va'>x</span><span class='op'>^</span><span class='fl'>2</span><span class='op'>)</span>, <span class='va'>domain</span>, <span class='va'>codomain</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># initialize instance</span></span>
<span class='r-in'><span class='va'>instance</span> <span class='op'>&lt;-</span> <span class='va'><a href='https://bbotk.mlr-org.com/reference/OptimInstanceSingleCrit.html'>OptimInstanceSingleCrit</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='va'>objective</span>, <span class='va'>domain</span>, <span class='fu'><a href='https://bbotk.mlr-org.com/reference/trm.html'>trm</a></span><span class='op'>(</span><span class='st'>"evals"</span>, n_evals <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># use intermbo optimizer</span></span>
<span class='r-in'><span class='co'>#</span></span>
<span class='r-in'><span class='co'># Also warn on surrogate model errors</span></span>
<span class='r-in'><span class='co'># (this is the default and can be omitted)</span></span>
<span class='r-in'><span class='va'>optser</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://bbotk.mlr-org.com/reference/opt.html'>opt</a></span><span class='op'>(</span><span class='st'>"intermbo"</span>, on.surrogate.error <span class='op'>=</span> <span class='st'>"warn"</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># optimizer has hyperparameters from mlrMBO</span></span>
<span class='r-in'><span class='va'>optser</span><span class='op'>$</span><span class='va'>param_set</span><span class='op'>$</span><span class='va'>values</span><span class='op'>$</span><span class='va'>final.method</span> <span class='op'>&lt;-</span> <span class='st'>"best.predicted"</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># optimization happens here.</span></span>
<span class='r-in'><span class='va'>optser</span><span class='op'>$</span><span class='fu'>optimize</span><span class='op'>(</span><span class='va'>instance</span><span class='op'>)</span></span>
<span class='r-wrn co'><span class='r-pr'>#&gt;</span> <span class='warning'>Warning: </span>no DISPLAY variable so Tk is not available</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>             x  x_domain           y</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1: 0.04252123 &lt;list[1]&gt; 0.001808055</span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>instance</span><span class='op'>$</span><span class='va'>result</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>             x  x_domain           y</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1: 0.04252123 &lt;list[1]&gt; 0.001808055</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Martin Binder.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


